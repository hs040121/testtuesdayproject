<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 이미지 진위 판별기</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="dynamic-background">
        <div class="track">
            <img src="https://images.pexels.com/photos/1036329/pexels-photo-1036329.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1054218/pexels-photo-1054218.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1344697/pexels-photo-1344697.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1083822/pexels-photo-1083822.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/2246476/pexels-photo-2246476.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/837358/pexels-photo-837358.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/3778603/pexels-photo-3778603.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <!-- 복제 -->
            <img src="https://images.pexels.com/photos/1043474/pexels-photo-1043474.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1528640/pexels-photo-1528640.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/3408744/pexels-photo-3408744.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/2156881/pexels-photo-2156881.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
        </div>
        <div class="track">
            <img src="https://images.pexels.com/photos/2387873/pexels-photo-2387873.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1105766/pexels-photo-1105766.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/842711/pexels-photo-842711.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1366919/pexels-photo-1366919.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/949587/pexels-photo-949587.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/2088205/pexels-photo-2088205.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/2559749/pexels-photo-2559749.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/142497/pexels-photo-142497.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <!-- 복제 -->
            <img src="https://images.pexels.com/photos/2387873/pexels-photo-2387873.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1105766/pexels-photo-1105766.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/842711/pexels-photo-842711.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1366919/pexels-photo-1366919.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
        </div>
        <div class="track">
             <!-- 사용자 코드에 이미지가 8개만 있었으므로, 앞 8개 반복 -->
            <img src="https://images.pexels.com/photos/2387873/pexels-photo-2387873.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1105766/pexels-photo-1105766.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/842711/pexels-photo-842711.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1366919/pexels-photo-1366919.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/949587/pexels-photo-949587.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/2088205/pexels-photo-2088205.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/2559749/pexels-photo-2559749.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/142497/pexels-photo-142497.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <!-- 복제 -->
            <img src="https://images.pexels.com/photos/2387873/pexels-photo-2387873.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1105766/pexels-photo-1105766.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/842711/pexels-photo-842711.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1366919/pexels-photo-1366919.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
        </div>
        <div class="track">
             <!-- 사용자 코드에 이미지가 8개만 있었으므로, 앞 8개 반복 -->
            <img src="https://images.pexels.com/photos/733857/pexels-photo-733857.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/167699/pexels-photo-167699.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/3225517/pexels-photo-3225517.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/2662116/pexels-photo-2662116.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/1761279/pexels-photo-1761279.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/142497/pexels-photo-142497.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/355465/pexels-photo-355465.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/998641/pexels-photo-998641.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <!-- 복제 -->
            <img src="https://images.pexels.com/photos/733857/pexels-photo-733857.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/167699/pexels-photo-167699.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/3225517/pexels-photo-3225517.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
            <img src="https://images.pexels.com/photos/2662116/pexels-photo-2662116.jpeg?auto=compress&cs=tinysrgb&w=400" alt="background">
        </div>
    </div>

    <div class="main-container">
        <!-- 상태 1: 업로드 화면 -->
        <div id="upload-page" class="page-card">
            <div class="text-center">
                <h1 class="display-4 fw-bold">AI 이미지 진위 판별기</h1>
                <p class="lead text-muted mt-3">딥러닝과 머신러닝 모델을 통해 이미지의 진위를 비교 분석합니다.</p>
                <div id="drop-zone" class="mt-4">
                    <div class="drop-zone-prompt">
                        <i class="bi bi-cloud-arrow-up-fill"></i>
                        <p class="mt-3 mb-0">분석할 이미지를 여기에 드롭하세요</p>
                        <p class="small text-muted">또는 클릭하여 파일 선택</p>
                    </div>
                </div>
                <input type="file" id="image-upload" class="d-none" accept="image/png, image/jpeg, image/webp">
            </div>
        </div>

        <!-- 상태 2: 결과 대시보드 -->
        <div id="result-page" class="page-card d-none">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2 class="mb-0">종합 분석 대시보드</h2>
                <button id="reset-button" class="btn btn-primary"><i class="bi bi-arrow-left me-2"></i>새로 분석하기</button>
            </div>

            <div class="row g-4">
                <div class="col-lg-4">
                    <h5 class="mb-3">원본 이미지</h5>
                    <div id="image-display-area" style="position: relative;">
                         <img id="image-preview" src="#" class="img-fluid rounded shadow-sm">
                         <canvas id="highlight-canvas" style="position: absolute; top: 0; left: 0; pointer-events: none;"></canvas>
                    </div>
                </div>
                <div class="col-lg-8">
                    <h5 class="mb-3">모델별 신뢰도 비교</h5>
                    <div class="chart-wrapper"><canvas id="confidence-line-chart"></canvas></div>
                </div>
            </div>

            <hr class="my-4">

            <h5 class="mb-3">모델별 상세 확률 분석</h5>
            <div class="chart-wrapper mb-4"><canvas id="probability-bar-chart"></canvas></div>

            <div class="row g-4">
                <div class="col-md-6">
                    <div class="analysis-card">
                        <h6 class="fw-bold"><i class="bi bi-person-gear me-2"></i>직접 만든 모델 (ELA+LBP) 분석</h6>
                        <ul id="custom-insights" class="list-unstyled mt-3"></ul>
                    </div>
                </div>
                <div class="col-md-6">
                     <div class="analysis-card">
                        <h6 class="fw-bold"><i class="bi bi-hdd-stack me-2"></i>허깅페이스 모델 (ViT) 분석</h6>
                        <ul id="hf-insights" class="list-unstyled mt-3"></ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- 로딩 오버레이 -->
        <div id="loading-overlay" class="d-none">
            <div class="spinner-border text-primary" role="status"></div>
            <p class="mt-3">두 개의 모델로 이미지를 교차 분석 중입니다...</p>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>